{"version":3,"file":"main.bundle.js","mappings":"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","sources":["webpack://webgpu/./src/renderer.ts","webpack://webgpu/./src/shaders/triangle.wgsl","webpack://webgpu/webpack/bootstrap","webpack://webgpu/webpack/runtime/define property getters","webpack://webgpu/webpack/runtime/hasOwnProperty shorthand","webpack://webgpu/webpack/runtime/make namespace object","webpack://webgpu/./src/main.ts"],"sourcesContent":["import shader from \"./shaders/triangle.wgsl\"\r\n\r\nexport class Renderer {\r\n    private device!: GPUDevice;\r\n    private canvas: HTMLCanvasElement;\r\n    private context!: GPUCanvasContext;\r\n    private renderPipeline!: GPURenderPipeline;\r\n\r\n    constructor(canvas: HTMLCanvasElement){\r\n        this.canvas = canvas;\r\n    }\r\n\r\n    public async init() {\r\n        const adapter = await navigator.gpu.requestAdapter() as GPUAdapter;\r\n        this.device = await adapter.requestDevice();\r\n\r\n        this.context = this.canvas.getContext('webgpu') as GPUCanvasContext;\r\n        this.context.configure({\r\n            device: this.device,\r\n            format: navigator.gpu.getPreferredCanvasFormat()\r\n        });\r\n\r\n        this.createPipeline();\r\n        this.render();\r\n    }\r\n\r\n    private createPipeline(){\r\n        const renderPipelineDescriptor: GPURenderPipelineDescriptor = {\r\n            label: \"Render pipeline\",\r\n            layout: \"auto\",\r\n            vertex: {\r\n                module: this.device.createShaderModule({ code: shader })\r\n            },\r\n            fragment: {\r\n                module: this.device.createShaderModule({ code: shader }),\r\n                targets: [{ format: navigator.gpu.getPreferredCanvasFormat() }]\r\n            }\r\n        };\r\n        this.renderPipeline = this.device.createRenderPipeline(renderPipelineDescriptor);\r\n    }\r\n\r\n    private render(bindGroups?: Array<GPUBindGroup>) {\r\n        const commandEncoder = this.device?.createCommandEncoder({ label: \"Command encoder in renderer\" });\r\n        \r\n        const renderPassDescriptor: GPURenderPassDescriptor = {\r\n            label: \"Render pass in renderer\",\r\n            colorAttachments: [\r\n                {\r\n                    view: this.context.getCurrentTexture().createView(),\r\n                    clearValue: { r: 0.2, g: 0.2, b: 0.2, a: 1.0 },\r\n                    loadOp: 'load',\r\n                    storeOp: 'store'\r\n                }\r\n            ]\r\n        }\r\n        const renderPass = commandEncoder.beginRenderPass(renderPassDescriptor);\r\n        renderPass.setPipeline(this.renderPipeline);\r\n        if (bindGroups !== undefined) {\r\n            bindGroups?.forEach((bg, idx) => {\r\n                renderPass.setBindGroup(idx, bg);\r\n            });\r\n        }\r\n        renderPass.draw(3);\r\n        renderPass.end();\r\n        this.device.queue.submit([commandEncoder.finish()]);\r\n    }\r\n};\r\n\r\n","export default \"\\r\\n@vertex\\r\\nfn vert(@builtin(vertex_index) vertIndex: u32) -> @builtin(position) vec4f {\\r\\n    let pos = array(\\r\\n        vec2f(0.0, 0.5),\\r\\n        vec2f(-0.5, -0.5),\\r\\n        vec2f(0.5, -0.5),\\r\\n    );\\r\\n\\r\\n    return vec4f(pos[vertIndex], 0.0, 1.0);\\r\\n}\\r\\n\\r\\n@fragment\\r\\nfn frag() -> @location(0) vec4f {\\r\\n    return vec4f(1.0, 0.0, 0.0, 1.0);\\r\\n}\\r\\n\"","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { Renderer } from \"./renderer\";\r\n\r\nconst canvas = document.getElementById(\"canvas\") as HTMLCanvasElement;\r\n\r\nconst renderer: Renderer = new Renderer(canvas);\r\nrenderer.init();\r\n\r\nfunction createCircleVerts({\r\n    radius = 1, numSubdivs = 120, innerRadius = 0, startAngle = 0, endAngle = Math.PI * 2,\r\n} = {}) {\r\n    const numVerticies = numSubdivs * 2 * 3;\r\n    const vertexData = new Float32Array(numVerticies * (2 + 4)); // 2 za x i y koordinate, 4 za boje\r\n\r\n    let offset = 0;\r\n    const addVertex = (x: number, y: number, color: { red: number, green: number, blue: number, alpha: number }) => {\r\n        vertexData[offset++] = x;\r\n        vertexData[offset++] = y;\r\n        vertexData.set([color.red, color.green, color.blue, color.alpha], offset);\r\n        offset += 4;\r\n    };\r\n\r\n    for (let i = 0; i < numSubdivs; i++) {\r\n        const angle1 = startAngle + (i + 0) * (endAngle - startAngle) / numSubdivs;\r\n        const angle2 = startAngle + (i + 1) * (endAngle - startAngle) / numSubdivs;\r\n\r\n        const c1 = Math.cos(angle1);\r\n        const s1 = Math.sin(angle1);\r\n        const c2 = Math.cos(angle2);\r\n        const s2 = Math.sin(angle2);\r\n\r\n        var col = { red: ((Math.sin(i / numSubdivs * Math.PI)) / 2) + 0.33, green: ((Math.sin(i / numSubdivs * Math.PI)) / 2) + 0.33, blue: ((Math.sin(i / numSubdivs * Math.PI)) / 2) + 0.33, alpha: 1 }\r\n\r\n        addVertex(c1 * radius, s1 * radius, col);\r\n        addVertex(c2 * radius, s2 * radius, col);\r\n        addVertex(c1 * innerRadius, s1 * innerRadius, col);\r\n\r\n        addVertex(c1 * innerRadius, s1 * innerRadius, col);\r\n        addVertex(c2 * radius, s2 * radius, col);\r\n        addVertex(c2 * innerRadius, s2 * innerRadius, col);\r\n    }\r\n\r\n    return { vertexData, numVerticies };\r\n}"],"names":[],"sourceRoot":""}